<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- CSS only -->
    <link rel="stylesheet" href="src/public/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  </head>

  <body style="background-color:rgb(233, 233, 233)">
    
    <nav class="navbar navbar-expand-lg navbar-light bg-light" style="padding-left: 5%;">
      <i class="fas fa-flag"></i>
      <a class="navbar-brand" href="#">Energia y Blockchain</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav">
          <a class="nav-item nav-link active" href="http://127.0.0.1:3000/records">Home</a>
        </div>
      </div>
    </nav>
    <div style="background-color:rgb(33, 50, 91);width: 100%; height: 200px; position: absolute;"></div>
    <div class="container" style="background-color:white; position: relative; margin-top: 5%; padding-bottom: 5%;">
      
      <h2>Registros correspondientes de: <%= entidad.nombre  %></h2>
      <table class="table table-hover">
        <tr>
          <th>Entidad</td>
          <th>Produced</td>
          <th>Consumed</td>
          <th>Date</td>
          <th>Transaction Hash</td>
        </tr>
        
          <% entidad.Registro.forEach(function(obj) { %>
            <tr>
              <td><%= entidad.nombre %></td>
              <td><%= obj.producido %></td>
              <td><%= obj.consumido %></td>
              <td><%= obj.createdAt.toLocaleString('en-GB', { hour12: true }) %></td>
              <td><a href="https://goerli.etherscan.io/tx/<%= obj.transactionHash %>" target="_blank"><%= obj.transactionHash %></a></td>
            </tr>
          <% ;}); %>


      </table>
<% if (pages > -1) { %>
  <nav>
    <ul class="pagination">
        <% if (current == 0) { %>
            <li class="page-item"><a class="page-link">First</a></li>
        <% } else { %>
            <li class="page-item"><a class="page-link" href="/records/<%= entidad.id %>/top/1">First</a></li>
        <% } %>
        <% var i = (Number(current) > 4 ? Number(current) - 4 : 1) %>
        <% if (i !== 0) { %>
            <li class="page-item"><a class="page-link">...</a></li>
        <% } %>
        <% for (; i <= (Number(current) + 3) && i <= pages; i++) { %>
            <% if (i == current) { %>
                <li class="page-item"><a class="page-link"><%= i %></a></li>
            <% } else { %>
                <li class="page-item"><a class="page-link" href="/records/<%= entidad.id %>/top/<%= i %>"><%= i %></a></li>
            <% } %>
            <% if (i == Number(current) + 3 && i < pages) { %>
                <li class="page-item"><a class="page-link">...</a></li>
            <% } %>
        <% } %>
        <% if (current == pages) { %>
            <li class="page-item"><a class="page-link">Last</a></li>
        <% } else { %>
            <li class="page-item"><a class="page-link" href="/records/<%= entidad.id %>/top/<%= pages %>">Last</a></li>
        <% } %>
    </ul>
</nav>
<% } %>
  </div>


  <!-- Footer -->
<footer class="text-center text-lg-start bg-light text-muted">
  <!-- Section: Social media -->

  <section
    class="d-flex justify-content-center justify-content-lg-between p-4 border-bottom"
  >
  </section>
  <!-- Section: Social media -->

  <!-- Section: Links  -->
  <section class="">
    <div class="container text-center text-md-start mt-5">
      <!-- Grid row -->
      <div class="row mt-3">
        <!-- Grid column -->
        <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
          <!-- Content -->
          <h6 class="text-uppercase fw-bold mb-4">
            <i class="fas fa-gem me-3"></i>Trabajo de graduacion UCA
          </h6>
          <p>
            Aplicacion descentralizada basada en Blockchain de registro de generacion y consumo de electricidad.
          </p>
        </div>
        <!-- Grid column -->

        <!-- Grid column -->
        <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">
          <!-- Links -->

        </div>
        <!-- Grid column -->

        <!-- Grid column -->
        <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">
          <!-- Links -->
        </div>
        <!-- Grid column -->

        <!-- Grid column -->
        <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
          <!-- Links -->
          <h6 class="text-uppercase fw-bold mb-4">
            Integrantes
          </h6>
          <p><i class="fas fa-home me-3"></i>Raul Calderon - 00004017</p>
          <p><i class="fas fa-phone me-3"></i> Alexis Gomez - 00122717</p>
          <p><i class="fas fa-print me-3"></i> Andre Gonzalez - 00103017</p>
        </div>
        <!-- Grid column -->
      </div>
      <!-- Grid row -->
    </div>
  </section>
  <!-- Section: Links  -->

</footer>
<!-- Footer -->
  </body>
</html>